<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>daisyworld</title>
    <link rel="stylesheet" type="text/css" href="style.css">

    <!-- FONT -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tiny5&display=swap" rel="stylesheet">


    <!--libraries-->
    <script src="https://cdn.jsdelivr.net/npm/p5@1.11.4/lib/p5.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/p5@1.11.4/lib/addons/p5.dom.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/p5@1.11.4/lib/addons/p5.sound.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/ml5@1.3.1/dist/ml5.min.js"></script>
    <script src="https://p5play.org/v3/planck.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5play/3.33.5/p5play.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.8.1/socket.io.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/simple-peer/9.11.1/simplepeer.min.js"></script>
    <script src="https://p5livemedia.itp.io/p5livemedia.js"></script>


</head>

<body>
    <!-- <img id="cursor" src="media/cursor.png" alt="cursor"> -->

    <div id="landing-container">
        <img src="media/glitter-slowed.gif" id="background-image" alt="background">


        <!-- Screen 1: Introduction -->
        <div class="screen active" id="screen1">
            <h1>DAISYWORLD</h1>
            <!-- <p class="description">
                Inspired by Daisyworld, a mathematical simulation created by scientist James lovelock in 1983 to prove
                his Gaia theory,this experience seeks to cultivate an environment that invites audience to observe
                minute changes made in the environment, see how individual actions feeds into the feedback loop, and how
                we can co live as organisms with nature as a whole.
            </p> -->
            <p class="description">
                see how individual actions feeds into the feedback loop, and how we can co live as organisms with nature
                as a whole.
            </p>
            <button class="next-btn" onclick="nextScreen(2)">NEXT</button>
        </div>

        <!-- Screen 2: Instructions -->
        <div class="screen" id="screen2">
            <h2>How to Participate</h2>
            <p class="instructions">
                • Choose your daisy color (white or black)<br>
                • Click to create daisies that interact with the space<br>
                • Watch as they bounce and flow together<br>
                • Share this moment with others
            </p>
            <button class="back-btn" onclick="nextScreen(1)">BACK</button>
            <button class="next-btn" onclick="nextScreen(3)">NEXT</button>
        </div>

        <!-- Screen 3: Name Input -->
        <div class="screen" id="screen3">
            <h2>What's your name?</h2>
            <input type="text" id="userName" placeholder="Enter your name" maxlength="20">
            <button class="back-btn" onclick="nextScreen(2)">BACK</button>
            <button class="enter-btn" onclick="enterExperience()">ENTER</button>
        </div>

        <!-- Experience (hidden initially) -->
        <div id="experience-container" style="display: none;">

            <div id="headline">
                <h3> DAISYWORLD </h3>
                <button id="aboutBtn" onclick="openAbout()">ABOUT</button>
            </div>

            <!-- pop up window -->
            <div id="aboutPopup" class="popup-overlay">
                <div class="popup-window">
                    <button class="close-btn" onclick="closeAbout()">✕</button>
                    <div class="popup-content">
                        <h2>About Daisyworld</h2>
                        <p>Inspired by Daisyworld, a mathematical simulation created by scientist James lovelock in 1983
                            to prove his Gaia theory (read more here) by showing the population of black and white
                            daisies interacting with the environment over millions of years.

                            This project seeks to cultivate an environment that invites audience to observe minute
                            changes made in the environment, see how individual actions feeds into the feedback loop,
                            and how we can co live as organisms with nature as a whole. </p>
                        <!-- <p>This is an interactive experience where users can connect and create together.</p>
                <p>Each participant becomes a bird with their own unique sound and color. Together, you create a song
                    that exists only in this shared moment.</p> -->
                        <h3>Instructions</h3>
                        <ul>
                            <li>Select white or black using the color buttons</li>
                            <li>Click anywhere to see daisies grow</li>
                            <li>Watch them interact with the environment</li>
                            <!-- <li>Type messages to communicate with others</li> -->
                        </ul>
                        <!-- <p>Created with p5.js and WebRTC</p> -->
                    </div>
                </div>
            </div>

            <!-- p5 canvas -->
            <div id="main-content">

            </div>

            <div id="videoContainer">
                <video id="myVideo" width="1280" height="auto" muted autoplay playsinline></video>
            </div>

            <!-- color select buttons -->
            <div id="color-selector">
                <button id="whiteBtn" class="color-btn white-btn" onclick="selectColor('white')">white daisy</button>
                <button id="blackBtn" class="color-btn black-btn" onclick="selectColor('black')">black daisy</button>
            </div>


            <!-- brightness slider -->
            <div>
                <label for="brightness-slider">Brightness: <span id="brightness-value">0</span></label>
                <br>
                <input type="range" id="brightness-slider" min="0" max="255" value="0">
            </div>

            <!-- Status display -->
            <div>
                <p>Status: <span id="status">Disconnected</span></p>
            </div>

        </div>

    </div>


    <script src="landing.js"></script>
    <script src="broadcaster.js"></script>

</body>

</html>